"use strict";(self.webpackChunksolar_man=self.webpackChunksolar_man||[]).push([[849],{5849:function(n,t,e){e.r(t),e.d(t,{default:function(){return w}});var r=e(3433),i=e(5861),o=e(1413),c=e(9439),a=e(4687),u=e.n(a),l=e(2791),s=e(7689),d=e(5264),f=e(277),p=e(6652),h=e(6548),x=e(3422),m=e(7562),g=e(2917),b=e(5939),Z=e(184),v=function(n){var t=n.setReGet,e=n.setIsDisableSaveBtn,r=(0,l.useState)(""),o=(0,c.Z)(r,2),a=o[0],s=o[1],f=(0,l.useState)(""),p=(0,c.Z)(f,2),x=p[0],m=p[1],v=(0,l.useState)([]),y=(0,c.Z)(v,2),w=y[0],j=y[1],k=(0,l.useState)(void 0),P=(0,c.Z)(k,2),N=P[0],S=P[1],C=(0,l.useRef)(null),z=(0,l.useState)(!1),I=(0,c.Z)(z,2),_=I[0],D=I[1],R=function(){var n=(0,i.Z)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,D(!0),n.next=5,(0,h.Ym)(a,x,w,N);case 5:s(""),m(""),j([]),S(null),C.current.value="",t((function(n){return!n})),e(!1),d.Notify.success("\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e"),D(!1),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(1),D(!1),d.Notify.failure("\u0423\u0441\u043f... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("),d.Notify.failure("".concat(n.t0));case 21:case"end":return n.stop()}}),n,null,[[1,16]])})));return function(t){return n.apply(this,arguments)}}();return(0,Z.jsxs)(g.l0,{onSubmit:R,children:[(0,Z.jsxs)(g.ht,{children:[N?(0,Z.jsx)(g.Ei,{src:URL.createObjectURL(N),alt:"\u0412\u0438\u0431\u0440\u0430\u043d\u0435 \u0444\u043e\u0442\u043e"}):"\u0412\u0438\u0431\u0456\u0440 \u0444\u043e\u0442\u043e",(0,Z.jsx)("input",{required:!0,style:{display:"none"},type:"file",accept:"image/*",multiple:"",ref:C,onChange:function(n){var t=n.target.files[0];if(t){if(t.size/1048576>10)return d.Notify.failure("\u0424\u0430\u0439\u043b \u0437\u0430\u043d\u0430\u0434\u0442\u043e \u0432\u0435\u043b\u0438\u043a\u0438\u0439! \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u0440\u043e\u0437\u043c\u0456\u0440: 10 \u041c\u0411");S(n.target.files[0])}}})]}),(0,Z.jsx)(g.po,{children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043e \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u043e\u0442\u043e - 4:3*"}),(0,Z.jsxs)(g.__,{children:["\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",(0,Z.jsx)(g.II,{required:!0,type:"text",value:a,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443...",onChange:function(n){return s(n.target.value)}})]}),(0,Z.jsxs)(g.__,{children:["\u0420\u0456\u043a",(0,Z.jsx)(g.II,{required:!0,type:"text",value:x,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0440\u0456\u043a(20\u0425\u0425)...",onChange:function(n){return m(n.target.value)}})]}),(0,Z.jsx)(g.__,{children:(0,Z.jsx)(g.SC,{required:!0,rows:"10",value:w.join("\n"),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438...",onChange:function(n){return j(n.target.value.split("\n"))}})}),(0,Z.jsx)(g.zx,{type:"submit",disabled:_,children:_?(0,Z.jsx)(b.D,{barColor:"#fff",borderColor:"#fff"}):"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})},y=e(3476),w=function(){var n=(0,l.useState)(1),t=(0,c.Z)(n,2),e=t[0],a=t[1],g=(0,l.useState)([]),w=(0,c.Z)(g,2),j=w[0],k=w[1],P=(0,l.useState)(0),N=(0,c.Z)(P,2),S=N[0],C=N[1],z=(0,l.useState)(!1),I=(0,c.Z)(z,2),_=I[0],D=I[1],R=(0,l.useState)(!0),T=(0,c.Z)(R,2),q=T[0],E=T[1],J=(0,l.useState)(!1),O=(0,c.Z)(J,2),Y=O[0],B=O[1],G=(0,l.useState)(!1),L=(0,c.Z)(G,2),Q=L[0],U=L[1],V=(0,l.useState)(!1),W=(0,c.Z)(V,2),X=W[0],A=W[1],F=(0,s.s0)(),H=(0,y.Sl)().userData.role,K=function(){var n=(0,i.Z)(u().mark((function n(t){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.hv)(t);case 3:d.Notify.success("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e"),A((function(n){return!n})),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),d.Notify.failure("\u0423\u0441\u043f... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("),d.Notify.failure("".concat(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),$=function(){var n=(0,i.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=j.map((function(n,t){return{id:n.id,series:t+1}})),n.next=4,(0,h.$8)(t);case 4:d.Notify.success("\u0417\u043c\u0456\u043d\u0435\u043d\u043e"),A((function(n){return!n})),E(!0),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),d.Notify.failure("\u0423\u0441\u043f... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("),d.Notify.failure("".concat(n.t0));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){if(!(e<2))try{var n=function(){var n=(0,i.Z)(u().mark((function n(){var t,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B(!0),U(!0),n.next=4,(0,h.Jq)(20,e);case 4:t=n.sent,i=t.posts,k((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(i))})),B(!1),U(!1);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}catch(t){d.Notify.failure("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."),d.Notify.failure("".concat(t)),B(!1),U(!1)}}),[e]),(0,l.useEffect)((function(){try{var n=function(){var n=(0,i.Z)(u().mark((function n(){var t,e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B(!0),U(!0),n.next=4,(0,h.Jq)(20);case 4:t=n.sent,e=t.posts,r=t.totalPosts,k(e),C(r),B(!1),U(!1);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();a(1),n()}catch(t){d.Notify.failure("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."),d.Notify.failure("".concat(t)),B(!1),U(!1)}}),[X]),(0,Z.jsx)(x.W,{children:(0,Z.jsxs)(p.Nh,{children:["user"!==H&&(0,Z.jsxs)(p.vg,{children:[(0,Z.jsx)(p.TN,{type:"button",disabled:q,onClick:$,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),(0,Z.jsx)(p.TN,{type:"button",onClick:function(){return D(!_)},children:_?"\u0417\u0430\u043a\u0440\u0438\u0442\u0438":"\u041d\u043e\u0432\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442"})]}),_&&(0,Z.jsx)(v,{setReGet:A,setIsDisableSaveBtn:E}),(0,Z.jsx)(f.Z5,{onDragEnd:function(n){if(n.destination){var t=function(n,t,e){var r=Array.from(n),i=r.splice(t,1),o=(0,c.Z)(i,1)[0];return r.splice(e,0,o),r}(j,n.source.index,n.destination.index);k(t),E(!1)}},children:(0,Z.jsx)(f.bK,{droppableId:"droppable",children:function(n,t){return(0,Z.jsxs)(p.aV,(0,o.Z)((0,o.Z)({},n.droppableProps),{},{ref:n.innerRef,style:(e=t.isDraggingOver,{background:e?"lightblue":"lightgrey",padding:8}),children:[j.map((function(n,t){return(0,Z.jsx)(f._l,{draggableId:n.id,index:t,children:function(t,e){var r,i,c=JSON.parse(n.components);return(0,Z.jsxs)(p.ck,(0,o.Z)((0,o.Z)((0,o.Z)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(r=e.isDragging,i=t.draggableProps.style,(0,o.Z)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:r?"#F24C4C":"#16498a"},i)),children:[(0,Z.jsx)(p.f7,{src:"".concat(h.v2,"/").concat(n.urlImg),width:"500",height:"400",alt:n.title}),(0,Z.jsxs)(p.sZ,{children:[(0,Z.jsx)(p.XQ,{children:n.title}),(0,Z.jsxs)(p.eT,{children:["\u0420\u0456\u043a: ",n.year]}),(0,Z.jsx)(p.sr,{children:c.map((function(n){return(0,Z.jsx)(p.eY,{children:(0,Z.jsxs)(p.eT,{children:["- ",n]})},n)}))})]}),"user"!==H&&(0,Z.jsxs)(p.Nx,{children:[(0,Z.jsxs)(p.vi,{type:"button",onClick:function(){return F("".concat(n.id))},children:[(0,Z.jsx)(m.J,{name:"icon-pencil"}),"\u0420\u0435\u0434\u0430\u0433."]}),(0,Z.jsxs)(p.vi,{type:"button",onClick:function(){return K(n.id)},children:[(0,Z.jsx)(m.J,{name:"icon-delete"}),"\u0412\u0438\u0434\u0430\u043b."]})]})]}))}},n.id)})),n.placeholder]}));var e}})}),S/20>1&&S/20>e&&(0,Z.jsx)(p.TN,{type:"button",style:{margin:"15px 0"},disabled:Q,onClick:function(){return a((function(n){return n+1}))},children:Y?(0,Z.jsx)(b.D,{borderColor:"#fff",barColor:"#fff"}):"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0449\u0435"})]})})}},6652:function(n,t,e){e.d(t,{Nh:function(){return b},Nx:function(){return z},TN:function(){return v},XQ:function(){return j},aV:function(){return y},ck:function(){return w},eT:function(){return k},eY:function(){return N},f7:function(){return C},sZ:function(){return S},sr:function(){return P},vg:function(){return Z},vi:function(){return I}});var r,i,o,c,a,u,l,s,d,f,p,h,x,m=e(168),g=e(6444),b=g.ZP.div(r||(r=(0,m.Z)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Z=g.ZP.div(i||(i=(0,m.Z)(["\n  width: 100%;\n  display: flex;\n  margin-bottom: 10px;\n"]))),v=g.ZP.button(o||(o=(0,m.Z)(["\n  font-size: 16px;\n  padding: 10px 20px;\n  border-radius: 10px;\n  background-color: ",";\n  cursor: pointer;\n  color: ",";\n  transition: background-color 350ms ease;\n  :first-child {\n    background-color: ",";\n  }\n\n  :hover {\n    background-color: ",";\n  }\n\n  :disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  :not(:last-child) {\n    margin-right: 15px;\n  }\n"])),(function(n){return n.theme.color.main}),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.additional}),(function(n){return n.theme.color.additional})),y=g.ZP.ul(c||(c=(0,m.Z)(["\n  border-radius: 20px;\n  width: 100%;\n  color: ",";\n"])),(function(n){return n.theme.color.white})),w=g.ZP.li(a||(a=(0,m.Z)(["\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),j=g.ZP.h4(u||(u=(0,m.Z)(["\n  font-size: 18px;\n  margin-bottom: 5px;\n  cursor: pointer;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  @media screen and (max-width: 768px) {\n    text-align: center;\n    margin: 10px 0;\n  }\n"]))),k=g.ZP.p(l||(l=(0,m.Z)(["\n  font-size: 16px;\n  margin-bottom: 5px;\n"]))),P=g.ZP.ul(s||(s=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),N=g.ZP.li(d||(d=(0,m.Z)(["\n  :not(:last-child) {\n    margin-bottom: 3px;\n  }\n"]))),S=g.ZP.div(f||(f=(0,m.Z)(["\n  padding-left: 15px;\n  @media screen and (max-width: 768px) {\n    padding: 0;\n    width: 100%;\n  }\n"]))),C=g.ZP.img(p||(p=(0,m.Z)(["\n  width: 125px;\n  border-radius: 10px;\n"]))),z=g.ZP.div(h||(h=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin: auto;\n    margin-top: 10px;\n  }\n"]))),I=g.ZP.button(x||(x=(0,m.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 15px;\n  border-radius: 30px;\n  margin-top: 10px;\n  cursor: pointer;\n  background-color: ",";\n  transition-duration: 350ms;\n  transition-timing-function: ease;\n  transition-property: color, background-color;\n\n  :not(:last-child) {\n    margin-bottom: 15px;\n\n    @media screen and (max-width: 768px) {\n      margin-bottom: 0;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    margin: 0 10px;\n  }\n\n  :disabled {\n    opacity: 0.7;\n  }\n\n  :disabled:hover {\n    cursor: not-allowed;\n  }\n\n  svg {\n    width: 20px;\n    height: 20px;\n    margin-right: 3px;\n    fill: ",";\n    transition: fill 350ms ease;\n  }\n\n  :not(:disabled):hover {\n    background-color: ",";\n    color: ",";\n  }\n  :not(:disabled):hover svg {\n    fill: ",";\n  }\n"])),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.black}),(function(n){return n.theme.color.additional}),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.white}))},2917:function(n,t,e){e.d(t,{Ei:function(){return v},II:function(){return b},Ph:function(){return S},SC:function(){return w},Wx:function(){return C},__:function(){return j},g6:function(){return P},ht:function(){return Z},l0:function(){return g},po:function(){return y},v6:function(){return N},zx:function(){return k}});var r,i,o,c,a,u,l,s,d,f,p,h,x=e(168),m=e(6444),g=m.ZP.form(r||(r=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  border-radius: 20px;\n  max-width: 700px;\n  width: 100%;\n  margin: 20px auto;\n  background-color: ",";\n"])),(function(n){return n.theme.color.main})),b=m.ZP.input(i||(i=(0,x.Z)(["\n  font-size: 16px;\n  padding: 7px 15px;\n  border-radius: 50px;\n  outline: none;\n  border: 2px solid ",";\n  color: ",";\n  font-family: inherit;\n  font-weight: inherit;\n  width: 100%;\n  margin-top: 5px;\n  text-align: center;\n  transition: border-color 350ms ease;\n\n  ::placeholder {\n    color: ",";\n    opacity: 0.8;\n    font-family: inherit;\n    font-weight: inherit;\n  }\n\n  :hover,\n  :focus {\n    border: 2px solid ",";\n  }\n"])),(function(n){return n.theme.color.main}),(function(n){return n.theme.color.black}),(function(n){return n.theme.color.black}),(function(n){return n.theme.color.additional})),Z=m.ZP.label(o||(o=(0,x.Z)(["\n  margin-bottom: 5px;\n  cursor: pointer;\n  color: ",";\n  border-radius: 10px;\n  border: 2px solid ",";\n  padding: 10px;\n  transition: background-color 350ms ease;\n\n  :hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.additional}),(function(n){return n.theme.color.additional})),v=m.ZP.img(c||(c=(0,x.Z)(["\n  width: 200px;\n  border-radius: 10px;\n"]))),y=m.ZP.span(a||(a=(0,x.Z)(["\n  font-size: 12px;\n  color: ",";\n  font-style: italic;\n  text-align: center;\n  width: 100%;\n  margin-bottom: 15px;\n"])),(function(n){return n.theme.color.white})),w=m.ZP.textarea(u||(u=(0,x.Z)(["\n  resize: none;\n  max-width: 500px;\n  width: 100%;\n  border-radius: 20px;\n  border: 2px solid ",";\n  color: ",";\n  padding: 15px;\n  font-size: 16px;\n  font-family: inherit;\n  font-weight: inherit;\n  outline: none;\n  transition: border-color 350ms ease;\n  margin-top: 5px;\n\n  ::placeholder {\n    color: ",";\n    opacity: 0.8;\n    font-family: inherit;\n    font-weight: inherit;\n  }\n\n  :hover,\n  :focus {\n    border: 2px solid ",";\n  }\n"])),(function(n){return n.theme.color.main}),(function(n){return n.theme.color.black}),(function(n){return n.theme.color.black}),(function(n){return n.theme.color.additional})),j=m.ZP.label(l||(l=(0,x.Z)(["\n  margin-bottom: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: 500px;\n  width: 100%;\n  color: ",";\n  position: relative;\n"])),(function(n){return n.theme.color.white})),k=m.ZP.button(s||(s=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 15px;\n  height: 35px;\n  border-radius: 30px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-size: 18px;\n  font-family: inherit;\n  font-weight: inherit;\n  border: 2px solid ",";\n  color: ",";\n  cursor: pointer;\n  background-color: ",";\n  transition-duration: 350ms;\n  transition-timing-function: ease;\n  transition-property: background-color;\n\n  svg {\n    width: 20px;\n    height: 20px;\n    margin-right: 3px;\n    fill: ",";\n    transition: fill 350ms ease;\n  }\n\n  :not(:disabled):hover {\n    background-color: ",";\n    color: ",";\n  }\n  :not(:disabled):hover svg {\n    fill: ",";\n  }\n"])),(function(n){return n.theme.color.additional}),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.main}),(function(n){return n.theme.color.black}),(function(n){return n.theme.color.additional}),(function(n){return n.theme.color.white}),(function(n){return n.theme.color.white})),P=m.ZP.button(d||(d=(0,x.Z)(["\n  position: absolute;\n  top: 10px;\n  right: 0;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  transition: background-color 350ms ease;\n\n  &:hover {\n    background-color: ",";\n    svg {\n      fill: ",";\n    }\n  }\n\n  svg {\n    width: 20px;\n    height: 20px;\n    transition: fill 350ms ease;\n  }\n"])),(function(n){return n.theme.color.additional}),(function(n){return n.theme.color.white})),N=m.ZP.span(f||(f=(0,x.Z)(["\n  max-width: 500px;\n  width: 100%;\n  height: 2px;\n  background-color: ",";\n  margin-bottom: 5px;\n"])),(function(n){return n.theme.color.additional})),S=m.ZP.select(p||(p=(0,x.Z)(["\n  max-width: 500px;\n  margin: 5px 0;\n  width: 100%;\n  text-align: center;\n  font-family: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n  padding: 7px 5px;\n  border-radius: 50px;\n  outline: transparent;\n"]))),C=m.ZP.option(h||(h=(0,x.Z)([""])))}}]);
//# sourceMappingURL=849.638469fc.chunk.js.map